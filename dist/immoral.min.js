/*! Immoral - v0.2.2 - 2013-11-15
* https://github.com/aniketpant/immoral
* Copyright (c) 2013 Aniket Pant; Licensed MIT */
(function(){var a;a=jQuery,a(function(){var b,c,d,e,f,g,h,i;return a.fn.immoral=function(b){var c;return c={content:"",modalClass:"modal",modalShadowClass:"modal-shadow",modalContainerClass:"modal-container",modalCloseButton:'<a href="#" rel="modal:close">Close</a>',modalContentClass:"modal-content",modalShadow:!1,modalContainer:!1,modalStyle:{width:"50%",height:"50%",margin:"0 auto",background:"white","text-align":"left"},modalShadowStyle:{position:"fixed","z-index":"10000000",background:"rgba(0,0,0,0.5)",width:"100%",height:"100%",left:"0px",top:"0px"},modalContainerStyle:{width:"100%",margin:"0px",position:"fixed",top:"0px",left:"0px",height:"100%",display:"none","z-index":"10000001",background:"transparent","text-align":"center"},modalContentStyle:{width:"100%",height:"100%"}},this.each(function(){return this.settings=a.extend(!0,{},c,b),h(this),f(this),e(this)})},e=function(b){return a(b).on("click",function(a){return a.preventDefault(),i(b)}),a(b.settings.modalContainer).on("click",'a[rel="modal:close"]',function(a){return a.preventDefault(),c(b)}),a(document).keydown(b,function(a){return 27===a.keyCode?c(b):void 0}),!0},h=function(b){var c;return c=b.settings,a("."+c.modalShadowClass).length||a("body").append('<div class="'+c.modalShadowClass+'" style="display: none"></div>'),a.immoral(b,{modalShadow:a("."+c.modalShadowClass)})},f=function(b){var c;return c=b.settings,a("."+c.modalContainerClass).length||a("body").append('<div id="immoral-modal" class="'+c.modalContainerClass+'" style="display: none"><div class="modal"><div class="'+c.modalContentClass+'"></div></div></div>'),a.immoral(b,{modalContainer:a("#immoral-modal")})},g=function(c){var d,e,f,g,h;return h=c.settings,d=a(h.modalContainer),e=d.find("."+h.modalContentClass),g=a(c).attr("href"),h.content?f=h.content:/https*:\/\//.test(g)?f='<iframe src="'+g+'" seamless></iframe>':/#+/.test(g)&&(f=a(g).html()),e.html(f),e.prepend(h.modalCloseButton),b(c)},i=function(b){var c,d,e;return e=b.settings,d=a(e.modalShadow),c=a(e.modalContainer),g(b),d.fadeIn(),c.fadeIn()},c=function(b){var c,e,f;return f=b.settings,e=a(f.modalShadow),c=a(f.modalContainer),e.fadeOut(),c.fadeOut(),d(b)},d=function(a){var b,c;return c=a.settings,b=c.modalContainer,b.find("."+c.modalContentClass).empty()},b=function(a){var b,c,d;return d=a.settings,c=d.modalShadow,b=d.modalContainer,c.css(d.modalShadowStyle),b.css(d.modalContainerStyle),b.find(".modal-content").css(d.modalContentStyle),b.find(".modal").css(d.modalStyle)},a.fn.open=function(){return i(this)},a.fn.close=function(){return c(this)},a.immoral=function(b,c){return b.settings=a.extend(!0,{},b.settings,c),"immoralized"}})}).call(this);