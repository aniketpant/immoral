/*! Immoral - v0.2.4 - 2014-03-21
* https://github.com/aniketpant/immoral
* Copyright (c) 2014 Aniket Pant; Licensed MIT */
(function(){!function(a){var b,c,d,e,f,g,h;return a.fn.immoral=function(b){var c;return c={content:"",modalClass:"immoral-modal",modalContainerClass:"immoral-modal-container",modalCloseButton:'<a href="#" rel="modal:close">Close</a>',modalContentClass:"immoral-modal-content",modalContainer:!1,modalStyle:{position:"absolute",left:"50%",top:"50%",width:"50%",height:"50%",transform:"translate(-50%, -50%)",background:"white","text-align":"left"},modalContainerStyle:{width:"100%",margin:"0px",position:"fixed",top:"0",left:"0",right:"0",bottom:"0",height:"100%",display:"none","z-index":"10000001",background:"rgba(0,0,0,.8)","text-align":"center","overflow-y":"auto","-webkit-overflow-scrolling":"touch"},modalContentStyle:{width:"100%",height:"100%"}},this.each(function(){return this.settings=a.extend(!0,{},c,b),f(this),e(this)})},e=function(b){return a(b).bind("click",function(a){return a.preventDefault(),h(b)}),a(b.settings.modalContainer).delegate('a[rel="modal:close"]',"click",function(a){return a.preventDefault(),c(b)}),a(document).keydown(b,function(a){return 27===a.keyCode?c(b):void 0}),!0},f=function(b){var c;return c=b.settings,a("."+c.modalContainerClass).length||a("body").append('<div class="'+c.modalContainerClass+'" style="display: none"><div class="'+c.modalClass+'"><div class="'+c.modalContentClass+'"></div></div></div>'),a.immoral(b,{modalContainer:a("."+c.modalContainerClass)})},g=function(c){var d,e,f,g,h;return h=c.settings,d=a(h.modalContainer),e=d.find("."+h.modalContentClass),g=a(c).attr("href"),h.content?f=h.content:/https*:\/\//.test(g)?f='<iframe src="'+g+'" seamless></iframe>':/#+/.test(g)&&(f=a(g).html()),e.html(f),e.prepend(h.modalCloseButton),b(c)},h=function(b){var c,d;return d=b.settings,c=a(d.modalContainer),g(b),c.fadeIn()},c=function(b){var c,e;return e=b.settings,c=a(e.modalContainer),c.fadeOut(),d(b)},d=function(a){var b,c;return c=a.settings,b=c.modalContainer,b.find("."+c.modalContentClass).empty()},b=function(a){var b,c;return c=a.settings,b=c.modalContainer,b.css(c.modalContainerStyle),b.find("."+c.modalContentClass).css(c.modalContentStyle),b.find("."+c.modalClass).css(c.modalStyle)},a.fn.open=function(){return h(this)},a.fn.close=function(){return c(this)},a.immoral=function(b,c){return b.settings=a.extend(!0,{},b.settings,c),"immoralized"}}(jQuery)}).call(this);